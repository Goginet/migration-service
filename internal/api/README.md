

# api
`import "./internal/api"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [type API](#API)
  * [func NewAPI(log zerolog.Logger, migrations MigrationService) *API](#NewAPI)
  * [func (a *API) HandleApplyMigrations(w http.ResponseWriter, r *http.Request)](#API.HandleApplyMigrations)
* [type MigrationService](#MigrationService)


#### <a name="pkg-files">Package files</a>
[api.go](https://golang.org/src//target/api.go)






## <a name="API">type</a> [API](https://golang.org/src/./internal/api/api.go?s=127:202#L12)
``` go
type API struct {
    // contains filtered or unexported fields
}

```
API is a REST API.







### <a name="NewAPI">func</a> [NewAPI](https://golang.org/src/./internal/api/api.go?s=490:555#L25)
``` go
func NewAPI(log zerolog.Logger, migrations MigrationService) *API
```
NewAPI returns new API insance.





### <a name="API.HandleApplyMigrations">func</a> (\*API) [HandleApplyMigrations](https://golang.org/src/./internal/api/api.go?s=703:778#L34)
``` go
func (a *API) HandleApplyMigrations(w http.ResponseWriter, r *http.Request)
```
ApplyMigrations applies 'noAuto' migrations to the specified service




## <a name="MigrationService">type</a> [MigrationService](https://golang.org/src/./internal/api/api.go?s=204:453#L17)
``` go
type MigrationService interface {
    ServiceVersion(name string) (int, error)
    ServiceExists(name string) bool
    Apply(name string, priority, minVersion int, isForced, noAutoOnly bool) (int, int, error)
    BumpServiceVersion(name string, ver int) error
}
```













- - -
Generated by [godoc2md](http://godoc.org/github.com/lanre-ade/godoc2md)
